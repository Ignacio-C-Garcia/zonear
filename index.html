<!doctype html>
<html>
    <head>
        <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
        <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
        <script src="https://raw.githack.com/AR-js-org/studio-backend/master/src/modules/marker/tools/gesture-detector.js"></script>
        <script src="https://raw.githack.com/AR-js-org/studio-backend/master/src/modules/marker/tools/gesture-handler.js"></script>
        <script type="text/javascript">
            AFRAME.registerComponent('marcador', {
              schema: {
                default: ''
              },
              init() {
                  console.log("esto entra ")
                const sky = document.querySelector('a-box');
                var b = false
                this.el.addEventListener('click', () => {
                  if (b) {
                    sky.setAttribute('animation__rotate', "property: rotation; dur: 500; easing: linear; dir: normal; from:0 0 0; to: 0 360 0; loop: true;");
                  } else {
                    sky.setAttribute('animation__rotate', "property: rotation; dur: 3000; easing: linear; dir: normal; from:0 0 0; to: 0 360 0; loop: true;");
                  }
                  b = !b;
                  console.log('clicked');
                });
              }
            });
          
          </script>
    </head>

    <body style="margin: 0; overflow: hidden;">
        <a-scene cursor="rayOrigin:mouse"
            vr-mode-ui="enabled: false;"
            loading-screen="enabled: false;"
            arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false;"
            id="scene"
            embedded
            gesture-detector
        >
            <a-marker
                id="animated-marker"
                type="pattern"
                preset="kanji"
                raycaster="objects: .clickable"
                emitevents="true"
                cursor="fuse: false; rayOrigin: mouse;"
                id="markerA"
            >
            <a-box
                id="marcador"
                color="#000000"
                position="1 1 1"
                animation__rotate="property: rotation; dur: 500; easing: linear; dir: normal; from:0 0 0; to: 0 360 0; loop: true;"
                marcador
            >
            </a-box>
            </a-marker>

            <a-entity camera></a-entity>
        </a-scene>
    </body>
</html>
